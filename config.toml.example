# Petty Sandbox Platform Configuration
# Copy this file to config.toml and customize for your environment

[vm_manager]
# Type of VM manager ("flintlock" is the only supported option currently)
manager_type = "flintlock"

[vm_manager.flintlock]
# Flintlock gRPC endpoint
endpoint = "http://localhost:9090"

# Namespace for VMs (for multi-tenancy)
namespace = "default"

# Path to the kernel image
kernel_path = "/var/lib/flintlock/kernels/vmlinux-5.10"

# Container image name for the sandbox
image_name = "docker.io/library/sandbox-base:v0.1"

# Connection timeout in seconds
connect_timeout_secs = 10

[agent_comms]
# vsock port the in-VM agent listens on
vsock_port = 52000

# Timeout for connecting to the agent
connect_timeout_secs = 10

# Default timeout for command execution
command_timeout_secs = 300

[orchestrator]
# Maximum number of concurrent sandboxes
max_concurrent_sandboxes = 100

# Default TTL for idle sandboxes in seconds (0 = no TTL)
# After this time of inactivity, sandboxes will be automatically destroyed
default_ttl_secs = 3600

# How often to run cleanup for idle sandboxes (in seconds)
cleanup_interval_secs = 60

[orchestrator.defaults]
# Default number of vCPUs per sandbox
vcpu = 1

# Default memory in MB per sandbox
memory_mb = 512

# Default disk size in MB per sandbox
disk_size_mb = 1024
